## Matrix Inverses



**Question 1** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
2 & 1 \\
4 & 3 
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image5.png" alt="Question 1">
</details>

**Question 2** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
5 & 7 \\
2 & 3 
\end{vmatrix}
```
<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image10.png" alt="Question 2">
</details>

**Question 3** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
1 & 2 & 3 \\
4 & 5 & 6 \\
7 & 8 & 9
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image3.png" alt="Question 3">
</details>


**Question 4** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
2 & 4 & 0 \\
1 & 3 & 1 \\
5 & 6 & 2
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image4.png" alt="Question 4.a">
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image6.png" alt="Question 4.b">
</details>


**Question 5** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
1 & 1 & 2 \\
0 & 2 & 1 \\
1 & 1 & 3
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image7.png" alt="Question 5">
</details>


**Question 6** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
1 & 0 & 0 \\
2 & 3 & 0 \\
4 & 5 & 6
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image2.png" alt="Question 6">
</details>


**Question 7** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
1 & 2 \\
2 & 4 
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image1.png" alt="Question 7">
</details>

**Question 8** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
2 & 0 & 0 \\
1 & 2 & 0 \\
0 & 1 & 2
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image9.png" alt="Question 8">
</details>


**Question 9** Find the inverse of the following matrix $A^{-1}$

```math
A = \begin{vmatrix}
3 & 1 \\
6 & 2 
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/matrixInverse/image8.png" alt="Question 9">
</details>

## LU Decomposition and Solutions to Systems

**Question 1** Find the LU Decomposition of the following matrix:

```math
A = \begin{vmatrix}
2 & 4 \\
1 & 3 
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image1.png" alt="Question 1">
</details>

**Question 2** Find the LU Decomposition of the following matrix:

```math
A = \begin{vmatrix}
3 & 1 & 2 \\
6 & 2 & 4 \\
3 & 5 & 1
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image2.png" alt="Question 1">
</details>

**Question 3** Find the LU Decomposition of the following matrix:

```math
A = \begin{vmatrix}
1 & 2 & 0 \\
3 & 4 & 1 \\
2 & 2 & 2
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image3.png" alt="Question 1">
</details>

**Question 4** Find the LU Decomposition of the following matrix:

```math
A = \begin{vmatrix}
4 & 2 & 1 \\
8 & 7 & 2 \\
4 & 8 & 3
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image4.png" alt="Question 1">
</details>

**Question 5** Find the LU Decomposition of the following matrix:

```math
A = \begin{vmatrix}
1 & 3 \\
2 & 7 
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image5.png" alt="Question 1">
</details>


**Question 6** Find the LU Decomposition of the following matrix:

```math
A = \begin{vmatrix}
5 & 2 & 1 \\
1 & 4 & 2 \\
3 & 2 & 6
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image6a.png" alt="Question 1">
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image6b.png" alt="Question 1">
</details>


**Question 7** Find the LU Decomposition of the following matrix:

```math
A = \begin{vmatrix}
3 & 6 & 9 \\
1 & 2 & 3 \\
4 & 8 & 12
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image7.png" alt="Question 1">
</details>


**Question 8** Solve the follow system using the corresponding L and U matrices given:

```math 
\begin{vmatrix}
    2 & 1 & \vert & 5 \\
    4 & 2 & \vert & 10 
\end{vmatrix}
```

```math
L = \begin{vmatrix}
1 & 0 \\
2 & 1 
\end{vmatrix}

\qquad

U = \begin{vmatrix}
2 & 1 \\
0 & 0 
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image8a.png" alt="Question 1">
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image8b.png" alt="Question 1">
</details>


**Question 9** Solve the follow system using the corresponding L and U matrices given:

```math 
\begin{vmatrix}
    1 & 1 & 1 & \vert & 6 \\
    2 & 3 & 2 & \vert & 15 \\
    4 & 6 & 4 & \vert & 24
\end{vmatrix}
```

```math
L = \begin{vmatrix}
1 & 0 & 0 \\
2 & 1 & 0 \\
4 & 2 & 1
\end{vmatrix}

\qquad

U = \begin{vmatrix}
1 & 1 & 1 \\
0 & 1 & 0 \\
0 & 0 & 0
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image9a.png" alt="Question 1">
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image9b.png" alt="Question 1">
</details>


**Question 10** Solve the follow system using the corresponding L and U matrices given:

```math 
\begin{vmatrix}
    1 & 2 & -1 & \vert & 5 \\
    3 & 13 & 2 & \vert & 8 \\
    4 & 57 & 37 & \vert & 5
\end{vmatrix}
```

```math
L = \begin{vmatrix}
1 & 0 & 0 \\
3 & 1 & 0 \\
4 & 7 & 1
\end{vmatrix}

\qquad

U = \begin{vmatrix}
1 & 2 & -1 \\
0 & 7 & 5 \\
0 & 0 & 6
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image10.png" alt="Question 1">
</details>

**Question 11** Solve the follow system using the corresponding L and U matrices given:

```math 
\begin{vmatrix}
    1 & 1 & \vert & 3 \\
    2 & 2 & \vert & 6 
\end{vmatrix}
```

```math
L = \begin{vmatrix}
1 & 0 \\
2 & 1 
\end{vmatrix}

\qquad

U = \begin{vmatrix}
1 & 1 \\
0 & 0 
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image11.png" alt="Question 1">
</details>

**Question 12** Solve the follow system using the corresponding L and U matrices given:

```math 
\begin{vmatrix}
    1 & 2 & 1 & \vert & 8 \\
    2 & 3 & 2 & \vert & 14 \\
    3 & 5 & 3 & \vert & 20
\end{vmatrix}
```

```math
L = \begin{vmatrix}
1 & 0 & 0 \\
2 & 1 & 0 \\
3 & 1 & 1
\end{vmatrix}

\qquad

U = \begin{vmatrix}
1 & 2 & -1 \\
0 & -1 & 0 \\
0 & 0 & 0
\end{vmatrix}
```

<details>
  <summary>Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image12a.png" alt="Question 1">
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image12b.png" alt="Question 1">
</details>


**Question 13** Solve the follow system:

```math 
\begin{vmatrix}
    2 & 1 & \vert & 5 \\
    4 & 2 & \vert & 10 
\end{vmatrix}
```
Part A: Find the LU Decomposition
Part B: Solve the system Using LU Decomposition

<details>
  <summary>Part A Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image13a.png" alt="Question 1">
</details>
<details>
  <summary>Part B Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image13b.png" alt="Question 1">
</details>


**Question 14** Solve the follow system:

```math 
\begin{vmatrix}
    1 & 1 & 1 & \vert & 6 \\
    2 & 3 & 2 & \vert & 15 \\
    4 & 6 & 4 & \vert & 24
\end{vmatrix}
```
Part A: Find the LU Decomposition
Part B: Solve the system Using LU Decomposition

<details>
  <summary>Part A Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image14a.png" alt="Question 1">
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image14b.png" alt="Question 1">
</details>
<details>
  <summary>Part B Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image14c.png" alt="Question 1">
</details>

**Question 15** Solve the follow system:

```math 
\begin{vmatrix}
    2 & -1 & 1 & \vert & 3 \\
    1 & 2 & -3 & \vert & 4 \\
    3 & -1 & 2 & \vert & 1
\end{vmatrix}
```
Part A: Find the LU Decomposition
Part B: Solve the system Using LU Decomposition

<details>
  <summary>Part A Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image15a.png" alt="Question 1">
</details>
<details>
  <summary>Part B Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image15b.png" alt="Question 1">
</details>

**Question 13** Solve the follow system:

```math 
\begin{vmatrix}
    3 & 2 & \vert & 12 \\
    5 & -1 & \vert & 7 
\end{vmatrix}
```
Part A: Find the LU Decomposition
Part B: Solve the system Using LU Decomposition

<details>
  <summary>Part A Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image16a.png" alt="Question 1">
</details>
<details>
  <summary>Part B Solution</summary>
  <img src="https://github.com/sackn/diffeq/blob/main/Images/LU/image16b.png" alt="Question 1">
</details>

## Determinents

**Introduction**

You probably already know that there pretty straight forward formula for finding the inverse of a 2 by 2 matrix. For some arbitrary matrix $A$ the invesre matrix $A^{-1}$ is the following:

```math 
A = \begin{vmatrix}
    a & b  \\
    c & d 
\end{vmatrix}

\qquad
A^{-1} = \frac{1}{ad-bc}\begin{vmatrix}
    d & -b  \\
    -c & a 
\end{vmatrix}
```

From the information above we know that an inverse will only exist as long as the scalar factor on the outside exists. In other words, $$ad-bc \neq 0$$. The reciporical of the factor on the outside of the matrix is called the determinent. That means for a 2x2 matrix the determinent is $ad-bc$.

A key property of the determinent is that for a matrix A. If its an invertible matrix ($A^{-1}$ exists) then $det A \neq 0$

**Definition of a determinent**

We know that for a 2x2 matrix $det A = ad-bc$, but how do we even get this relation. First consider something called a permutation of a list of elements. A permutation of an array is another array that can be obtained by swapping around elements. All permutations include all possible ways to write the elements where order matters. Let say you had the list [1,2,3] then the permutations include:
- [1, 2, 3]
- [1, 3, 2]
- [2, 1, 3]
- [2, 3, 1]
- [3, 1, 2]
- [3, 2, 1]

Each permutation has a "parity" (even or odd). We know that we can obtain any permutation of [1,2,3] via some number of swaps of elements. For example we can go from [3,2,1] to [1,2,3] by swapping 3 and 1. If it takes an odd number of swaps to obtain a permutation then the permutation is considered odd. If it takes an even number of swaps to obtain a permutation then the permutation is consider even.

This may raise many immediate questions. When deciding parity of a permutation we need to count how many the parity of swaps it takes to get from this permutation to EVERY other permutation. However, a nice quality of permutation is is that a odd permutation (one that requires an odd numbers of swap) is always odd with respect to every other permutation.

In more simple terms, if you have some other permutation it will always take an odd number of swaps. It obviously may not take the same number of swaps as another permutation that is "closer", but the number of swaps will always be an odd number. I like to think of the parity of a permutation as "indepndent of path" as an even permutation is always even regardless of how you get there. Also note that 0 swaps is even.

Introduce the sign function which is a logical continuation to our talk about even/odd permutations. Consider some permutation $\sigma$:
```math
sig(\sigma) = 
\begin{cases}
    1, & \text{if } \sigma \text{ is even} \\
    -1, & \text{if } \sigma \text{ is odd}
\end{cases}
```
For an example sign([1,3,2]) = -1 (swap 3 and 2) and sign([2,1,3]) = 1 (swap 2 and 3. Then swap 1 and 2). Before I get to the actual definition of the determinent when I mention a permutation of $n$ I'm refering to some order of the number [1, 2 ... n-1, n]

For an n by n matrix M:
$$det(M) = \sum_{\sigma} sign(\sigma)m_{1,\sigma(1)}m_{2,\sigma(2)}\ldots m_{n,\sigma(n)}$$

The summation sign implies that you sum over all possible permutations. The definition might be a little complicated so, I'm going to break it down a little. Firstly, we enumerate all permutations of n (For 2x2 [1,2] and [2,1]). We can see that we pick an item from each row in the matrix M and the item we pick in each row is determined by the permutation we are currently considering ($\sigma(i)$ refers to picking the ith element permutation ). If we are currently consider [2,1] in a 2 by 2 matrix then that term in the sum would be $sign([1,2]) m_{1,2} m_{2,1}$. Note that the item we pick will never be in a column with another item that is already picked. After we have to consider the parity of the permutation we are considering which can be done through guess and check.

**Worked Example**

Consider the general form of a 2x2 matrix A find the determinent
```math 
A = \begin{vmatrix}
    a & b  \\
    c & d 
\end{vmatrix}
```

We can first enumerate our permutation. We have exactly $2!$ permutation which are [1,2] and [2,1]. Lets consider the [1,2] permutation first. We know that $\sigma(1) = 1$ and $\sigma(2)=2$. Plugging that into our formula for this term we gets so far,
$$sign([1,2]) m_{1,1} m_{2,2}$$
Replacing $m_{1,1}$ (row 1 column 1 entry)and $m_{2,2}$ (row 2 column 2 entry) with there actual value in the matrix we get,
$$sign([1,2]) ad$$
Now we need to find $sign([1,2])$. Since it takes zero swaps to go from [1,2] to [1,2] the parity is even and thus $sign([1,2]) = 1$. So we simply have $ad$. Lets consider the other permutation [2,1]. We know that  $\sigma(1) = 2$ and $\sigma(2)=1$. Plugging that into our formula we get,
$$sign([2,1]) m_{1,2} m_{2,1}$$
Replacing with the actual entries
$$sign([2,1]) bc$$
Now we need to find $sign([2,1])$ it takes 1 swap to go from [1,2] to [2,1] so its an odd permutation which implies $sign([2,1]) = -1$ giving us $-bc$. The determinent is the sum of all these results so the determient of some general 2D matrix is the following
$$det(A) = ad-bc$$











**Calculating Determinents through Code**

Below is some haphazardly written code for calculating the determinent of a matrix (done by yours truley). I'm pretty sure it works, but the parity function portion is probably not optimal. As usual the determinent requires that the matrix is square (nxn).

```python
def parity(arr):
    swaps = 0
    for i in range(len(arr)):
        if (i + 1) != arr[i]:
            swaps += 1
            for j in range(i + 1, len(arr)):
                if arr[j] == (i + 1):
                    tmp = arr[i]
                    arr[i] = arr[j]
                    arr[j] = tmp

    if swaps % 2 == 0:
        return 1
    return -1


matrix = [[-1, -8, 9],
          [4, 12, -7],
          [-10, 3, 2]]


def det(curr):
    if len(curr) == len(matrix):
        ret = 1
        for i in range(len(curr)):
            ret *= matrix[i][curr[i] - 1]
        return parity(curr) * ret

    return sum([det(curr + [i]) for i in range(1, len(matrix) + 1) if i not in curr])


print(det([]))
```

I thought it would be good practice to write the determinent operation myself, but below is probably the code that you are more likely to use to calculate the determinent of a square matrix. 
```python
import numpy as np

matrix = np.array([[-1, -8, 9], [4, 12, -7], [-10, 3, 2]])
print(np.linalg.det(matrix))
```

Note that $np.linalg.det$ works conceptually a little different from my code. My code will always produce the exact answer (as so I claim). Numpy will use approxmiative methods to get the determinent which means you will be off by a very slight margin.










